{"ast":null,"code":"import _objectSpread from\"/Users/koladegureje/Desktop/test-vs-code/IRONHACK/Ironhack1/IronhackProj3/hire-my-dev/frontend/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/objectSpread2\";import _regeneratorRuntime from\"/Users/koladegureje/Desktop/test-vs-code/IRONHACK/Ironhack1/IronhackProj3/hire-my-dev/frontend/node_modules/babel-preset-react-app/node_modules/@babel/runtime/regenerator\";import _asyncToGenerator from\"/Users/koladegureje/Desktop/test-vs-code/IRONHACK/Ironhack1/IronhackProj3/hire-my-dev/frontend/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/asyncToGenerator\";import _classCallCheck from\"/Users/koladegureje/Desktop/test-vs-code/IRONHACK/Ironhack1/IronhackProj3/hire-my-dev/frontend/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/classCallCheck\";import _createClass from\"/Users/koladegureje/Desktop/test-vs-code/IRONHACK/Ironhack1/IronhackProj3/hire-my-dev/frontend/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/createClass\";import _inherits from\"/Users/koladegureje/Desktop/test-vs-code/IRONHACK/Ironhack1/IronhackProj3/hire-my-dev/frontend/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/inherits\";import _createSuper from\"/Users/koladegureje/Desktop/test-vs-code/IRONHACK/Ironhack1/IronhackProj3/hire-my-dev/frontend/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/createSuper\";import React,{Component,Fragment}from\"react\";import{BrowserRouter,Switch,Route,NavLink}from\"react-router-dom\";import Home from\"./components/home/Home\";import NotFound from\"./components/404/NotFound.js\";import SignUp from\"./components/auth/SignUp\";import LogIn from\"./components/auth/LogIn\";import Profile from\"./components/profile/Profile\";import actions from\"./services/index\";import GoogleAuth from\"./components/auth/GoogleAuth\";import GoogleAuthLogin from\"./components/auth/GoogleAuthLogin\";var App=/*#__PURE__*/function(_Component){_inherits(App,_Component);var _super=_createSuper(App);function App(){var _this;_classCallCheck(this,App);for(var _len=arguments.length,args=new Array(_len),_key=0;_key<_len;_key++){args[_key]=arguments[_key];}_this=_super.call.apply(_super,[this].concat(args));_this.state={};_this.setUser=function(user){return _this.setState(user);};_this.logOut=/*#__PURE__*/_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime.mark(function _callee(){var res;return _regeneratorRuntime.wrap(function _callee$(_context){while(1){switch(_context.prev=_context.next){case 0:_context.next=2;return actions.logOut();case 2:res=_context.sent;_this.setUser({email:null,createdAt:null,updatedAt:null,_id:null});//FIX\ncase 4:case\"end\":return _context.stop();}}},_callee);}));_this.handlechange=/*#__PURE__*/function(){var _ref2=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime.mark(function _callee2(e){var data,res;return _regeneratorRuntime.wrap(function _callee2$(_context2){while(1){switch(_context2.prev=_context2.next){case 0:data=new FormData();data.append('upload',e.target.files[0]);_context2.next=4;return actions.fileUpload(data);case 4:res=_context2.sent;console.log(res);case 6:case\"end\":return _context2.stop();}}},_callee2);}));return function(_x){return _ref2.apply(this,arguments);};}();return _this;}_createClass(App,[{key:\"componentDidMount\",value:function(){var _componentDidMount=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime.mark(function _callee3(){var user;return _regeneratorRuntime.wrap(function _callee3$(_context3){while(1){switch(_context3.prev=_context3.next){case 0:_context3.next=2;return actions.isLoggedIn();case 2:user=_context3.sent;this.setState(_objectSpread({},user.data));console.log(\"coolest \");case 5:case\"end\":return _context3.stop();}}},_callee3,this);}));function componentDidMount(){return _componentDidMount.apply(this,arguments);}return componentDidMount;}()},{key:\"render\",value:function render(){var _this2=this;return/*#__PURE__*/React.createElement(BrowserRouter,null,this.state.email,/*#__PURE__*/React.createElement(\"nav\",null,/*#__PURE__*/React.createElement(NavLink,{to:\"/\"},\"Home |\"),this.state.email?/*#__PURE__*/React.createElement(Fragment,null,/*#__PURE__*/React.createElement(NavLink,{onClick:this.logOut,to:\"/\"},\"Log Out |\"),/*#__PURE__*/React.createElement(NavLink,{to:\"/profile\"},\"Profile|\")):/*#__PURE__*/React.createElement(Fragment,null,/*#__PURE__*/React.createElement(NavLink,{to:\"/sign-up\"},\"Sign Up |\"),/*#__PURE__*/React.createElement(NavLink,{to:\"/log-in\"},\"Log In |\"))),/*#__PURE__*/React.createElement(Switch,null,/*#__PURE__*/React.createElement(Route,{exact:true,path:\"/\",render:function render(props){return/*#__PURE__*/React.createElement(Home,props);}}),/*#__PURE__*/React.createElement(Route,{exact:true,path:\"/sign-up\",render:function render(props){return/*#__PURE__*/React.createElement(SignUp,Object.assign({},props,{setUser:_this2.setUser}));}}),/*#__PURE__*/React.createElement(Route,{exact:true,path:\"/log-in\",render:function render(props){return/*#__PURE__*/React.createElement(LogIn,Object.assign({},props,{setUser:_this2.setUser}));}}),/*#__PURE__*/React.createElement(Route,{exact:true,path:\"/profile\",render:function render(props){return/*#__PURE__*/React.createElement(Profile,Object.assign({},props,{user:_this2.state}));}}),/*#__PURE__*/React.createElement(Route,{component:NotFound})),!this.state.email&&/*#__PURE__*/React.createElement(GoogleAuth,{setUser:this.setUser}),!this.state.email&&/*#__PURE__*/React.createElement(GoogleAuthLogin,{setUser:this.setUser}),/*#__PURE__*/React.createElement(\"form\",null,/*#__PURE__*/React.createElement(\"input\",{type:\"file\",onChange:this.handlechange})));}}]);return App;}(Component);export default App;","map":{"version":3,"sources":["/Users/koladegureje/Desktop/test-vs-code/IRONHACK/Ironhack1/IronhackProj3/hire-my-dev/frontend/src/App.js"],"names":["React","Component","Fragment","BrowserRouter","Switch","Route","NavLink","Home","NotFound","SignUp","LogIn","Profile","actions","GoogleAuth","GoogleAuthLogin","App","state","setUser","user","setState","logOut","res","email","createdAt","updatedAt","_id","handlechange","e","data","FormData","append","target","files","fileUpload","console","log","isLoggedIn","props"],"mappings":"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","sourcesContent":["import React, { Component, Fragment } from \"react\";\nimport { BrowserRouter, Switch, Route, NavLink } from \"react-router-dom\";\nimport Home from \"./components/home/Home\";\nimport NotFound from \"./components/404/NotFound.js\";\nimport SignUp from \"./components/auth/SignUp\";\nimport LogIn from \"./components/auth/LogIn\";\nimport Profile from \"./components/profile/Profile\";\nimport actions from \"./services/index\";\nimport GoogleAuth from \"./components/auth/GoogleAuth\";\nimport GoogleAuthLogin from \"./components/auth/GoogleAuthLogin\";\n\nclass App extends Component {\n  state = {};\n\n  async componentDidMount() {\n    let user = await actions.isLoggedIn();\n    this.setState({ ...user.data });\n    console.log(\"coolest \");\n  }\n\n  setUser = (user) => this.setState(user);\n\n  logOut = async () => {\n    let res = await actions.logOut();\n    this.setUser({ email: null, createdAt: null, updatedAt: null, _id: null }); //FIX\n  };\n\n  handlechange = async(e) => {\n\n    let data = new FormData();\n    data.append('upload', e.target.files[0]);\n    let res = await actions.fileUpload(data)\n    console.log(res)\n\n  }\n\n  render() {\n    return (\n      <BrowserRouter>\n        {this.state.email}\n        <nav>\n          <NavLink to=\"/\">Home |</NavLink>\n\n          {this.state.email ? (\n            <Fragment>\n              <NavLink onClick={this.logOut} to=\"/\">\n                Log Out |\n              </NavLink>\n              <NavLink to=\"/profile\">Profile|</NavLink>\n            </Fragment>\n          ) : (\n            <Fragment>\n              <NavLink to=\"/sign-up\">Sign Up |</NavLink>\n              <NavLink to=\"/log-in\">Log In |</NavLink>\n            </Fragment>\n          )}\n        </nav>\n        <Switch>\n          <Route exact path=\"/\" render={(props) => <Home {...props} />} />\n          <Route\n            exact\n            path=\"/sign-up\"\n            render={(props) => <SignUp {...props} setUser={this.setUser} />}\n          />\n          <Route\n            exact\n            path=\"/log-in\"\n            render={(props) => <LogIn {...props} setUser={this.setUser} />}\n          />\n          <Route\n            exact\n            path=\"/profile\"\n            render={(props) => <Profile {...props} user={this.state} />}\n          />\n\n          <Route component={NotFound} />\n        </Switch>\n        {!this.state.email && <GoogleAuth setUser={this.setUser} />}\n        {!this.state.email && <GoogleAuthLogin setUser={this.setUser} />}\n\n        <form><input type='file' onChange={this.handlechange}/></form>\n      </BrowserRouter>\n    );\n  }\n}\nexport default App;\n"]},"metadata":{},"sourceType":"module"}