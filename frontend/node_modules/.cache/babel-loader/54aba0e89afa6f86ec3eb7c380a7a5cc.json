{"ast":null,"code":"var _jsxFileName = \"/Users/koladegureje/Desktop/test-vs-code/IRONHACK/Ironhack1/IronhackProj3/hire-my-dev/frontend/src/components/UserForm/UserForm.js\";\nimport React, { Component } from 'react';\nimport PersonalDetails from './PersonalDetails';\nimport Project from './Projects';\nimport Links from './Links';\nimport Confirm from './Confirm';\nimport actions from '../../services';\nimport { Redirect } from \"react-router-dom\";\nimport './user.css';\n\nclass UserForm extends Component {\n  constructor(...args) {\n    super(...args);\n    this.state = {\n      redirect: null,\n      step: 1,\n      username: '',\n      about: '',\n      skills: '',\n      githublink: '',\n      imageUrl: '',\n      linkedinurl: '',\n      projects: [{\n        picture: '',\n        title: '',\n        technologies_used: '',\n        description: '',\n        githubrepourl: '',\n        sitelink: ''\n      }]\n    };\n\n    this.nextStep = () => {\n      const {\n        step\n      } = this.state;\n      this.setState({\n        step: step + 1\n      });\n    };\n\n    this.PreviousStep = () => {\n      const {\n        step\n      } = this.state;\n      this.setState({\n        step: step - 1\n      });\n    };\n\n    this.addProj = () => {\n      if (this.state.projects.length < 3) {\n        this.setState(prevState => ({\n          projects: [...prevState.projects, {\n            picture: '',\n            title: '',\n            technologies_used: '',\n            description: '',\n            githubrepourl: '',\n            sitelink: ''\n          }]\n        }));\n      }\n    };\n\n    this.handleChange = input => e => {\n      this.setState({\n        [input]: e.target.value\n      });\n    };\n\n    this.handleProjectChange = input => e => {\n      // console.log(e.target.dataset.id);\n      let projects = [...this.state.projects];\n      projects[e.target.dataset.id][e.target.name] = e.target.value;\n      this.setState({\n        projects\n      }, () => console.log(this.state.projects));\n    };\n\n    this.handleFileUpload = (e, name) => {\n      console.log(e.target.files[0], name);\n      const uploadData = new FormData();\n      uploadData.append(\"imageUrl\", e.target.files[0]);\n      actions.fileUpload(uploadData).then(res => {\n        // console.log(res.data.path, name); \n        // let state = {...this.state}\n        let imageUrl = { ...this.state.imageUrl\n        }; // console.log(res.data.path, name);\n        //Do your logic   \n\n        if (name === 'personal_details') {\n          imageUrl = res.data.path;\n          this.setState({\n            imageUrl\n          });\n        } else {\n          state.projects[name].picture = res.data.path;\n          this.setState({\n            state\n          });\n        }\n      }).catch(err => console.error(err));\n    };\n\n    this.handleSubmit = e => {\n      e.preventDefault();\n      actions.userdata(this.state).then(user => {\n        this.props.setUser({ ...user.data\n        });\n        this.setState({\n          redirect: \"/profile\"\n        });\n      }).catch(({\n        response\n      }) => console.error(response.data));\n    };\n  }\n\n  render() {\n    const {\n      step\n    } = this.state;\n    const {\n      username,\n      about,\n      skills,\n      githublink,\n      imageUrl,\n      linkedinurl,\n      projects\n    } = this.state;\n    const values = {\n      username,\n      about,\n      skills,\n      githublink,\n      imageUrl,\n      linkedinurl,\n      projects\n    };\n\n    switch (step) {\n      case 1:\n        return /*#__PURE__*/React.createElement(\"div\", {\n          className: \"form\",\n          __self: this,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 93,\n            columnNumber: 21\n          }\n        }, /*#__PURE__*/React.createElement(PersonalDetails, {\n          nextStep: this.nextStep,\n          handleChange: this.handleChange,\n          values: values,\n          handleFileUpload: this.handleFileUpload,\n          __self: this,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 94,\n            columnNumber: 29\n          }\n        }));\n\n      case 2:\n        return /*#__PURE__*/React.createElement(\"div\", {\n          className: \"form\",\n          __self: this,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 104,\n            columnNumber: 21\n          }\n        }, /*#__PURE__*/React.createElement(\"div\", {\n          className: \"form-box\",\n          __self: this,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 105,\n            columnNumber: 25\n          }\n        }, /*#__PURE__*/React.createElement(Links, {\n          nextStep: this.nextStep,\n          PreviousStep: this.PreviousStep,\n          handleChange: this.handleChange,\n          values: values,\n          __self: this,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 106,\n            columnNumber: 25\n          }\n        })));\n\n      case 3:\n        return /*#__PURE__*/React.createElement(\"div\", {\n          className: \"form\",\n          __self: this,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 117,\n            columnNumber: 21\n          }\n        }, /*#__PURE__*/React.createElement(\"div\", {\n          className: \"form-box\",\n          __self: this,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 118,\n            columnNumber: 25\n          }\n        }, /*#__PURE__*/React.createElement(Project, {\n          nextStep: this.nextStep,\n          PreviousStep: this.PreviousStep,\n          handleProjectChange: this.handleProjectChange,\n          values: values,\n          index: 0,\n          addProj: this.addProj,\n          handleFileUpload: this.handleFileUpload,\n          __self: this,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 119,\n            columnNumber: 25\n          }\n        })));\n\n      case 4:\n        return /*#__PURE__*/React.createElement(\"div\", {\n          className: \"form\",\n          __self: this,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 133,\n            columnNumber: 21\n          }\n        }, /*#__PURE__*/React.createElement(\"div\", {\n          className: \"form-box\",\n          __self: this,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 134,\n            columnNumber: 25\n          }\n        }, /*#__PURE__*/React.createElement(Project, {\n          nextStep: this.nextStep,\n          PreviousStep: this.PreviousStep,\n          handleProjectChange: this.handleProjectChange,\n          values: values,\n          index: 1,\n          addProj: this.addProj,\n          handleFileUpload: this.handleFileUpload,\n          __self: this,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 135,\n            columnNumber: 25\n          }\n        })));\n\n      case 5:\n        return /*#__PURE__*/React.createElement(\"div\", {\n          className: \"form\",\n          __self: this,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 149,\n            columnNumber: 21\n          }\n        }, /*#__PURE__*/React.createElement(\"div\", {\n          className: \"form-box\",\n          __self: this,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 150,\n            columnNumber: 25\n          }\n        }, /*#__PURE__*/React.createElement(Project, {\n          nextStep: this.nextStep,\n          PreviousStep: this.PreviousStep,\n          handleProjectChange: this.handleProjectChange,\n          values: values,\n          index: 2,\n          handleFileUpload: this.handleFileUpload,\n          __self: this,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 151,\n            columnNumber: 25\n          }\n        })));\n\n      case 6:\n        if (this.state.redirect) {\n          return /*#__PURE__*/React.createElement(Redirect, {\n            to: this.state.redirect,\n            __self: this,\n            __source: {\n              fileName: _jsxFileName,\n              lineNumber: 164,\n              columnNumber: 28\n            }\n          });\n        }\n\n        return /*#__PURE__*/React.createElement(Confirm, {\n          PreviousStep: this.PreviousStep,\n          values: values,\n          handleSubmit: this.handleSubmit,\n          __self: this,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 166,\n            columnNumber: 28\n          }\n        });\n\n      default:\n        break;\n    }\n  }\n\n}\n\nexport default UserForm; // input user info: Full name, about you, picture, catch phase aboutyour occupation.\n//: picture, tech used, links: github, live show, codepen, about \n//links\n// username: String,\n//   skills: [String],\n//   linkedinurl: String,\n//   email: String,\n//   githublink: String,\n//   about: String,\n//   projects: [{\n//     type: Schema.Types.ObjectId,\n//     ref:\"Project\"\n//   }],\n//   favorite_jobs: [String],\n//   googleId: String,\n//   imageUrl: String,\n// {\n//     \"redirect\": null,\n//     \"step\": 2,\n//     \"username\": \"kolade naruto\",\n//     \"about\": \"   I am a self-taught react native developer with about a year and a half experience mostly spent refining my skills.    I am interested in making apps that can be beneficial to people around me and for the company I work with.    \\tI wish to get enough experience in the tech industry to begin my start up in a few years centered on promoting health insurance adoption in Nigeria through mobile tech.    \",\n//     \"skills\": \"I am a web developer who loves to make apps that helps people\",\n//     \"githublink\": \"https://github.com/koladeg\",\n//     \"imageUrl\": \"\",\n//     \"linkedinurl\": \"https://www.linkedin.com/in/kolade-gureje/\",\n//     \"projects\": [\n//       {\n//         \"picture\": \"https://res.cloudinary.com/dpapjdvi5/image/upload/v1597855455/rsnip9tcmwhy5plycvoe.png\",\n//         \"title\": \"Fisherman\",\n//         \"technologies_used\": \"javascript, canvas, HTML5\",\n//         \"description\": \"A JavaScript based game in which you need to catch as many fish as possible within a time frame. The game is meant to be fun with flappy birds like controls with a timeless mario game design. Its styled with CSS and rendered on HTML5 using Canvas with sprites for images.\",\n//         \"githubrepourl\": \"https://github.com/koladeg/fisherman\",\n//         \"sitelink\": \"https://koladeg.github.io/fisherman/\"\n//       },\n//       {\n//         \"picture\": \"https://res.cloudinary.com/dpapjdvi5/image/upload/v1597856029/jww0n0szx4mauocjj0mp.png\",\n//         \"title\": \"World cup Redo\",\n//         \"technologies_used\": \"React js, react-router-dom, axios\",\n//         \"description\": \"Using information based on each team such as the best colour, moods, jersey number, and horoscope of the player of each teams along with data from an astrological api. The application uses an algorithm to assess the scores.\",\n//         \"githubrepourl\": \"https://github.com/mattjmanzo/world-cup-app\",\n//         \"sitelink\": \"https://astrological-world-cup.netlify.app/.\"\n//       },\n//       {\n//         \"picture\": \"https://res.cloudinary.com/dpapjdvi5/image/upload/v1597857001/cwyr4dybecc0zttexcbu.jpg\",\n//         \"title\": \"hire-my-dev\",\n//         \"technologies_used\": \"bootstrap, react js, mongo db, Express js, passport, material UI\",\n//         \"description\": \"An interactive application designed for student developers and bootcamp graduates, providing them a platform to highlight their profiles, portfolios, and achievements.\",\n//         \"githubrepourl\": \"https://github.com/project3-july-august2020/hire-my-dev\",\n//         \"sitelink\": \"https://hiremydev.com\"\n//       }\n//     ],\n//     \"state\": {\n//       \"redirect\": null,\n//       \"step\": 1,\n//       \"username\": \"kolade naruto\",\n//       \"about\": \"           I am a self-taught react native developer with about a year and a half experience mostly spent refining my skills.\\n\\t\\tI am interested in making apps that can be beneficial to people around me and for the company I work with.\\n\\t\\t\\tI wish to get enough experience in the tech industry to begin my start up in a few years centered on promoting health insurance adoption in Nigeria through mobile tech.\\n\\t\\t\\t\\t\\t\\t\\t\\t \",\n//       \"skills\": \"I  am a web developer who loves to make apps that helps people\",\n//       \"githublink\": \"https://github.com/koladeg\",\n//       \"imageUrl\": \"https://res.cloudinary.com/dpapjdvi5/image/upload/v1597857631/ekbjmkkyyq0lkgityu9f.jpg\",\n//       \"linkedinurl\": \"https://www.linkedin.com/in/kolade-gureje/\",\n//       \"projects\": \"[{…}, {…}, {…}]\",\n//       \"state\": \"{about: \\\"           I am a self-taught react native…}\"\n//     }\n//   }","map":{"version":3,"sources":["/Users/koladegureje/Desktop/test-vs-code/IRONHACK/Ironhack1/IronhackProj3/hire-my-dev/frontend/src/components/UserForm/UserForm.js"],"names":["React","Component","PersonalDetails","Project","Links","Confirm","actions","Redirect","UserForm","state","redirect","step","username","about","skills","githublink","imageUrl","linkedinurl","projects","picture","title","technologies_used","description","githubrepourl","sitelink","nextStep","setState","PreviousStep","addProj","length","prevState","handleChange","input","e","target","value","handleProjectChange","dataset","id","name","console","log","handleFileUpload","files","uploadData","FormData","append","fileUpload","then","res","data","path","catch","err","error","handleSubmit","preventDefault","userdata","user","props","setUser","response","render","values"],"mappings":";AAAA,OAAOA,KAAP,IAAgBC,SAAhB,QAAiC,OAAjC;AACA,OAAOC,eAAP,MAA4B,mBAA5B;AACA,OAAOC,OAAP,MAAoB,YAApB;AACA,OAAOC,KAAP,MAAkB,SAAlB;AACA,OAAOC,OAAP,MAAoB,WAApB;AACA,OAAOC,OAAP,MAAoB,gBAApB;AACA,SAASC,QAAT,QAAyB,kBAAzB;AACA,OAAO,YAAP;;AAEA,MAAMC,QAAN,SAAuBP,SAAvB,CAAiC;AAAA;AAAA;AAAA,SAC7BQ,KAD6B,GACtB;AACHC,MAAAA,QAAQ,EAAE,IADP;AAEHC,MAAAA,IAAI,EAAE,CAFH;AAGHC,MAAAA,QAAQ,EAAE,EAHP;AAIHC,MAAAA,KAAK,EAAE,EAJJ;AAKHC,MAAAA,MAAM,EAAE,EALL;AAMHC,MAAAA,UAAU,EAAE,EANT;AAOHC,MAAAA,QAAQ,EAAE,EAPP;AAQHC,MAAAA,WAAW,EAAC,EART;AASHC,MAAAA,QAAQ,EAAE,CAAC;AAAEC,QAAAA,OAAO,EAAE,EAAX;AAAeC,QAAAA,KAAK,EAAE,EAAtB;AAA0BC,QAAAA,iBAAiB,EAAE,EAA7C;AAAgDC,QAAAA,WAAW,EAAE,EAA7D;AAAiEC,QAAAA,aAAa,EAAE,EAAhF;AAAoFC,QAAAA,QAAQ,EAAE;AAA9F,OAAD;AATP,KADsB;;AAAA,SAc7BC,QAd6B,GAclB,MAAM;AACb,YAAM;AAAEd,QAAAA;AAAF,UAAW,KAAKF,KAAtB;AACA,WAAKiB,QAAL,CAAc;AACVf,QAAAA,IAAI,EAAEA,IAAI,GAAG;AADH,OAAd;AAGH,KAnB4B;;AAAA,SAqB7BgB,YArB6B,GAqBd,MAAM;AACjB,YAAM;AAAEhB,QAAAA;AAAF,UAAW,KAAKF,KAAtB;AACA,WAAKiB,QAAL,CAAc;AACVf,QAAAA,IAAI,EAAEA,IAAI,GAAG;AADH,OAAd;AAGH,KA1B4B;;AAAA,SA4B7BiB,OA5B6B,GA4BnB,MAAM;AACZ,UAAG,KAAKnB,KAAL,CAAWS,QAAX,CAAoBW,MAApB,GAA6B,CAAhC,EAAkC;AAC9B,aAAKH,QAAL,CAAgBI,SAAD,KAAgB;AAC3BZ,UAAAA,QAAQ,EAAE,CAAC,GAAGY,SAAS,CAACZ,QAAd,EAAwB;AAAEC,YAAAA,OAAO,EAAE,EAAX;AAAeC,YAAAA,KAAK,EAAE,EAAtB;AAA0BC,YAAAA,iBAAiB,EAAE,EAA7C;AAAiDC,YAAAA,WAAW,EAAE,EAA9D;AAAkEC,YAAAA,aAAa,EAAE,EAAjF;AAAqFC,YAAAA,QAAQ,EAAE;AAA/F,WAAxB;AADiB,SAAhB,CAAf;AAGH;AACJ,KAlC4B;;AAAA,SAoC7BO,YApC6B,GAoCdC,KAAK,IAAIC,CAAC,IAAI;AAC5B,WAAKP,QAAL,CAAc;AAAE,SAACM,KAAD,GAAUC,CAAC,CAACC,MAAF,CAASC;AAArB,OAAd;AACA,KAtC4B;;AAAA,SAuC7BC,mBAvC6B,GAuCPJ,KAAK,IAAIC,CAAC,IAAI;AAChC;AACA,UAAIf,QAAQ,GAAG,CAAC,GAAG,KAAKT,KAAL,CAAWS,QAAf,CAAf;AACAA,MAAAA,QAAQ,CAACe,CAAC,CAACC,MAAF,CAASG,OAAT,CAAiBC,EAAlB,CAAR,CAA8BL,CAAC,CAACC,MAAF,CAASK,IAAvC,IAA+CN,CAAC,CAACC,MAAF,CAASC,KAAxD;AACA,WAAKT,QAAL,CAAc;AAAER,QAAAA;AAAF,OAAd,EAA4B,MAAMsB,OAAO,CAACC,GAAR,CAAY,KAAKhC,KAAL,CAAWS,QAAvB,CAAlC;AACH,KA5C4B;;AAAA,SA+C7BwB,gBA/C6B,GA+CV,CAACT,CAAD,EAAIM,IAAJ,KAAa;AAC5BC,MAAAA,OAAO,CAACC,GAAR,CAAYR,CAAC,CAACC,MAAF,CAASS,KAAT,CAAe,CAAf,CAAZ,EAA+BJ,IAA/B;AACN,YAAMK,UAAU,GAAG,IAAIC,QAAJ,EAAnB;AACMD,MAAAA,UAAU,CAACE,MAAX,CAAkB,UAAlB,EAA8Bb,CAAC,CAACC,MAAF,CAASS,KAAT,CAAe,CAAf,CAA9B;AACArC,MAAAA,OAAO,CAACyC,UAAR,CAAoBH,UAApB,EAAgCI,IAAhC,CAAqCC,GAAG,IAAI;AACxC;AACA;AACA,YAAIjC,QAAQ,GAAG,EAAC,GAAG,KAAKP,KAAL,CAAWO;AAAf,SAAf,CAHwC,CAIxC;AACA;;AACA,YAAGuB,IAAI,KAAK,kBAAZ,EAA+B;AAC3BvB,UAAAA,QAAQ,GAAGiC,GAAG,CAACC,IAAJ,CAASC,IAApB;AACA,eAAKzB,QAAL,CAAc;AAAEV,YAAAA;AAAF,WAAd;AACH,SAHD,MAGK;AACDP,UAAAA,KAAK,CAACS,QAAN,CAAeqB,IAAf,EAAqBpB,OAArB,GAA+B8B,GAAG,CAACC,IAAJ,CAASC,IAAxC;AACA,eAAKzB,QAAL,CAAc;AAAEjB,YAAAA;AAAF,WAAd;AACH;AACJ,OAbD,EAaG2C,KAbH,CAaSC,GAAG,IAAIb,OAAO,CAACc,KAAR,CAAcD,GAAd,CAbhB;AAcP,KAjEgC;;AAAA,SAmE7BE,YAnE6B,GAmEdtB,CAAC,IAAI;AAChBA,MAAAA,CAAC,CAACuB,cAAF;AACAlD,MAAAA,OAAO,CAACmD,QAAR,CAAiB,KAAKhD,KAAtB,EAA6BuC,IAA7B,CAAkCU,IAAI,IAAI;AACtC,aAAKC,KAAL,CAAWC,OAAX,CAAmB,EAAC,GAAGF,IAAI,CAACR;AAAT,SAAnB;AACA,aAAKxB,QAAL,CAAc;AAAEhB,UAAAA,QAAQ,EAAE;AAAZ,SAAd;AACH,OAHD,EAGG0C,KAHH,CAGS,CAAC;AAAES,QAAAA;AAAF,OAAD,KAAkBrB,OAAO,CAACc,KAAR,CAAcO,QAAQ,CAACX,IAAvB,CAH3B;AAIH,KAzE4B;AAAA;;AA2E7BY,EAAAA,MAAM,GAAG;AACL,UAAM;AAAEnD,MAAAA;AAAF,QAAW,KAAKF,KAAtB;AACA,UAAM;AAAEG,MAAAA,QAAF;AAAYC,MAAAA,KAAZ;AAAmBC,MAAAA,MAAnB;AAA2BC,MAAAA,UAA3B;AAAuCC,MAAAA,QAAvC;AAAiDC,MAAAA,WAAjD;AAA8DC,MAAAA;AAA9D,QAA0E,KAAKT,KAArF;AACA,UAAMsD,MAAM,GAAG;AAACnD,MAAAA,QAAD;AAAWC,MAAAA,KAAX;AAAkBC,MAAAA,MAAlB;AAA0BC,MAAAA,UAA1B;AAAsCC,MAAAA,QAAtC;AAAgDC,MAAAA,WAAhD;AAA6DC,MAAAA;AAA7D,KAAf;;AAEA,YAAQP,IAAR;AACI,WAAK,CAAL;AACI,4BACI;AAAK,UAAA,SAAS,EAAC,MAAf;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,wBACQ,oBAAC,eAAD;AACI,UAAA,QAAQ,EAAI,KAAKc,QADrB;AAEI,UAAA,YAAY,EAAE,KAAKM,YAFvB;AAGI,UAAA,MAAM,EAAEgC,MAHZ;AAII,UAAA,gBAAgB,EAAG,KAAKrB,gBAJ5B;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,UADR,CADJ;;AAUJ,WAAK,CAAL;AACI,4BACI;AAAK,UAAA,SAAS,EAAC,MAAf;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,wBACI;AAAK,UAAA,SAAS,EAAC,UAAf;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,wBACA,oBAAC,KAAD;AACI,UAAA,QAAQ,EAAI,KAAKjB,QADrB;AAEI,UAAA,YAAY,EAAI,KAAKE,YAFzB;AAGI,UAAA,YAAY,EAAE,KAAKI,YAHvB;AAII,UAAA,MAAM,EAAEgC,MAJZ;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,UADA,CADJ,CADJ;;AAYI,WAAK,CAAL;AACJ,4BACI;AAAK,UAAA,SAAS,EAAC,MAAf;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,wBACI;AAAK,UAAA,SAAS,EAAC,UAAf;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,wBACA,oBAAC,OAAD;AACI,UAAA,QAAQ,EAAI,KAAKtC,QADrB;AAEI,UAAA,YAAY,EAAI,KAAKE,YAFzB;AAGI,UAAA,mBAAmB,EAAE,KAAKS,mBAH9B;AAII,UAAA,MAAM,EAAE2B,MAJZ;AAKI,UAAA,KAAK,EAAI,CALb;AAMI,UAAA,OAAO,EAAI,KAAKnC,OANpB;AAOI,UAAA,gBAAgB,EAAG,KAAKc,gBAP5B;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,UADA,CADJ,CADJ;;AAeJ,WAAK,CAAL;AACI,4BACI;AAAK,UAAA,SAAS,EAAC,MAAf;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,wBACI;AAAK,UAAA,SAAS,EAAC,UAAf;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,wBACA,oBAAC,OAAD;AACI,UAAA,QAAQ,EAAI,KAAKjB,QADrB;AAEI,UAAA,YAAY,EAAI,KAAKE,YAFzB;AAGI,UAAA,mBAAmB,EAAE,KAAKS,mBAH9B;AAII,UAAA,MAAM,EAAE2B,MAJZ;AAKI,UAAA,KAAK,EAAI,CALb;AAMI,UAAA,OAAO,EAAI,KAAKnC,OANpB;AAOI,UAAA,gBAAgB,EAAG,KAAKc,gBAP5B;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,UADA,CADJ,CADJ;;AAeJ,WAAK,CAAL;AACI,4BACI;AAAK,UAAA,SAAS,EAAC,MAAf;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,wBACI;AAAK,UAAA,SAAS,EAAC,UAAf;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,wBACA,oBAAC,OAAD;AACI,UAAA,QAAQ,EAAI,KAAKjB,QADrB;AAEI,UAAA,YAAY,EAAI,KAAKE,YAFzB;AAGI,UAAA,mBAAmB,EAAE,KAAKS,mBAH9B;AAII,UAAA,MAAM,EAAE2B,MAJZ;AAKI,UAAA,KAAK,EAAI,CALb;AAMI,UAAA,gBAAgB,EAAG,KAAKrB,gBAN5B;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,UADA,CADJ,CADJ;;AAcJ,WAAK,CAAL;AACI,YAAI,KAAKjC,KAAL,CAAWC,QAAf,EAAyB;AACrB,8BAAO,oBAAC,QAAD;AAAU,YAAA,EAAE,EAAE,KAAKD,KAAL,CAAWC,QAAzB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,YAAP;AACD;;AACD,4BAAS,oBAAC,OAAD;AACP,UAAA,YAAY,EAAI,KAAKiB,YADd;AAEP,UAAA,MAAM,EAAEoC,MAFD;AAGP,UAAA,YAAY,EAAG,KAAKR,YAHb;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,UAAT;;AAMN;AACI;AAnFR;AAsFH;;AAtK4B;;AAyKjC,eAAe/C,QAAf,C,CAEA;AACA;AACA;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AAGA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA","sourcesContent":["import React, { Component } from 'react';\nimport PersonalDetails from './PersonalDetails';\nimport Project from './Projects';\nimport Links from './Links';\nimport Confirm from './Confirm';\nimport actions from '../../services';\nimport { Redirect } from \"react-router-dom\";\nimport './user.css'\n\nclass UserForm extends Component {\n    state ={\n        redirect: null,\n        step: 1,\n        username: '',\n        about: '',\n        skills: '',\n        githublink: '',\n        imageUrl: '',\n        linkedinurl:'',\n        projects: [{ picture: '', title: '', technologies_used: '',description: '', githubrepourl: '', sitelink: '' }]\n    }\n\n\n    nextStep = () => {\n        const { step } = this.state;\n        this.setState({\n            step: step + 1\n        });\n    }\n\n    PreviousStep = () => {\n        const { step } = this.state;\n        this.setState({\n            step: step - 1\n        });\n    }\n\n    addProj = () => {\n        if(this.state.projects.length < 3){\n            this.setState( (prevState) => ({\n                projects: [...prevState.projects, { picture: '', title: '', technologies_used: '', description: '', githubrepourl: '', sitelink: '' }],\n            }));\n        }\n    }\n\n    handleChange = input => e => {\n     this.setState({ [input]:  e.target.value });\n    }\n    handleProjectChange = input => e => {\n        // console.log(e.target.dataset.id);\n        let projects = [...this.state.projects]\n        projects[e.target.dataset.id][e.target.name] = e.target.value\n        this.setState({ projects }, () => console.log(this.state.projects))\n    }\n\n    //send all image upload to cloudinary\n    handleFileUpload = (e, name) => {\n        console.log(e.target.files[0], name);\n\t\tconst uploadData = new FormData();\n        uploadData.append(\"imageUrl\", e.target.files[0])\n        actions.fileUpload( uploadData).then(res => { \n            // console.log(res.data.path, name); \n            // let state = {...this.state}\n            let imageUrl = {...this.state.imageUrl}\n            // console.log(res.data.path, name);\n            //Do your logic   \n            if(name === 'personal_details'){\n                imageUrl = res.data.path\n                this.setState({ imageUrl })\n            }else{\n                state.projects[name].picture = res.data.path\n                this.setState({ state })\n            }\n        }).catch(err => console.error(err))\n}\n    //submit all users' data to backend \n    handleSubmit = e => {\n        e.preventDefault()\n        actions.userdata(this.state).then(user => {\n            this.props.setUser({...user.data})  \n            this.setState({ redirect: \"/profile\" }); \n        }).catch(({ response }) => console.error(response.data));\n    }\n\n    render() {\n        const { step } = this.state;\n        const { username, about, skills, githublink, imageUrl, linkedinurl, projects} = this.state;\n        const values = {username, about, skills, githublink, imageUrl, linkedinurl, projects}\n\n        switch (step) {\n            case 1: \n                return (\n                    <div className=\"form\">\n                            <PersonalDetails \n                                nextStep = {this.nextStep}\n                                handleChange={this.handleChange}\n                                values={values}\n                                handleFileUpload= {this.handleFileUpload}\n                            />\n                    </div>  \n                );\n            case 2:\n                return ( \n                    <div className=\"form\">\n                        <div className=\"form-box\">\n                        <Links\n                            nextStep = {this.nextStep}\n                            PreviousStep = {this.PreviousStep}\n                            handleChange={this.handleChange}\n                            values={values}\n                        /> \n                        </div>     \n                    </div>  \n                    )\n                    case 3:\n                return ( \n                    <div className=\"form\">\n                        <div className=\"form-box\">\n                        <Project\n                            nextStep = {this.nextStep}\n                            PreviousStep = {this.PreviousStep}\n                            handleProjectChange={this.handleProjectChange}\n                            values={values}\n                            index = {0}\n                            addProj = {this.addProj}\n                            handleFileUpload= {this.handleFileUpload}\n                        />  \n                        </div>     \n                    </div>  \n                    )\n            case 4:\n                return ( \n                    <div className=\"form\">\n                        <div className=\"form-box\">\n                        <Project\n                            nextStep = {this.nextStep}\n                            PreviousStep = {this.PreviousStep}\n                            handleProjectChange={this.handleProjectChange}\n                            values={values}\n                            index = {1}\n                            addProj = {this.addProj}\n                            handleFileUpload= {this.handleFileUpload}\n                        />  \n                        </div>     \n                    </div>  \n                    )\n            case 5:\n                return ( \n                    <div className=\"form\">\n                        <div className=\"form-box\">\n                        <Project\n                            nextStep = {this.nextStep}\n                            PreviousStep = {this.PreviousStep}\n                            handleProjectChange={this.handleProjectChange}\n                            values={values}\n                            index = {2}\n                            handleFileUpload= {this.handleFileUpload}\n                        />  \n                        </div>     \n                    </div>  \n                )\n            case 6:\n                if (this.state.redirect) {\n                    return <Redirect to={this.state.redirect} />\n                  }\n                  return ( <Confirm\n                    PreviousStep = {this.PreviousStep}\n                    values={values}\n                    handleSubmit= {this.handleSubmit}\n                /> )\n                \n            default:\n                break;\n        }\n        \n    }\n}\n\nexport default UserForm;\n\n// input user info: Full name, about you, picture, catch phase aboutyour occupation.\n//: picture, tech used, links: github, live show, codepen, about \n//links\n\n// username: String,\n//   skills: [String],\n//   linkedinurl: String,\n//   email: String,\n//   githublink: String,\n//   about: String,\n//   projects: [{\n//     type: Schema.Types.ObjectId,\n//     ref:\"Project\"\n//   }],\n//   favorite_jobs: [String],\n//   googleId: String,\n//   imageUrl: String,\n\n\n// {\n//     \"redirect\": null,\n//     \"step\": 2,\n//     \"username\": \"kolade naruto\",\n//     \"about\": \"   I am a self-taught react native developer with about a year and a half experience mostly spent refining my skills.    I am interested in making apps that can be beneficial to people around me and for the company I work with.    \\tI wish to get enough experience in the tech industry to begin my start up in a few years centered on promoting health insurance adoption in Nigeria through mobile tech.    \",\n//     \"skills\": \"I am a web developer who loves to make apps that helps people\",\n//     \"githublink\": \"https://github.com/koladeg\",\n//     \"imageUrl\": \"\",\n//     \"linkedinurl\": \"https://www.linkedin.com/in/kolade-gureje/\",\n//     \"projects\": [\n//       {\n//         \"picture\": \"https://res.cloudinary.com/dpapjdvi5/image/upload/v1597855455/rsnip9tcmwhy5plycvoe.png\",\n//         \"title\": \"Fisherman\",\n//         \"technologies_used\": \"javascript, canvas, HTML5\",\n//         \"description\": \"A JavaScript based game in which you need to catch as many fish as possible within a time frame. The game is meant to be fun with flappy birds like controls with a timeless mario game design. Its styled with CSS and rendered on HTML5 using Canvas with sprites for images.\",\n//         \"githubrepourl\": \"https://github.com/koladeg/fisherman\",\n//         \"sitelink\": \"https://koladeg.github.io/fisherman/\"\n//       },\n//       {\n//         \"picture\": \"https://res.cloudinary.com/dpapjdvi5/image/upload/v1597856029/jww0n0szx4mauocjj0mp.png\",\n//         \"title\": \"World cup Redo\",\n//         \"technologies_used\": \"React js, react-router-dom, axios\",\n//         \"description\": \"Using information based on each team such as the best colour, moods, jersey number, and horoscope of the player of each teams along with data from an astrological api. The application uses an algorithm to assess the scores.\",\n//         \"githubrepourl\": \"https://github.com/mattjmanzo/world-cup-app\",\n//         \"sitelink\": \"https://astrological-world-cup.netlify.app/.\"\n//       },\n//       {\n//         \"picture\": \"https://res.cloudinary.com/dpapjdvi5/image/upload/v1597857001/cwyr4dybecc0zttexcbu.jpg\",\n//         \"title\": \"hire-my-dev\",\n//         \"technologies_used\": \"bootstrap, react js, mongo db, Express js, passport, material UI\",\n//         \"description\": \"An interactive application designed for student developers and bootcamp graduates, providing them a platform to highlight their profiles, portfolios, and achievements.\",\n//         \"githubrepourl\": \"https://github.com/project3-july-august2020/hire-my-dev\",\n//         \"sitelink\": \"https://hiremydev.com\"\n//       }\n//     ],\n//     \"state\": {\n//       \"redirect\": null,\n//       \"step\": 1,\n//       \"username\": \"kolade naruto\",\n//       \"about\": \"           I am a self-taught react native developer with about a year and a half experience mostly spent refining my skills.\\n\\t\\tI am interested in making apps that can be beneficial to people around me and for the company I work with.\\n\\t\\t\\tI wish to get enough experience in the tech industry to begin my start up in a few years centered on promoting health insurance adoption in Nigeria through mobile tech.\\n\\t\\t\\t\\t\\t\\t\\t\\t \",\n//       \"skills\": \"I  am a web developer who loves to make apps that helps people\",\n//       \"githublink\": \"https://github.com/koladeg\",\n//       \"imageUrl\": \"https://res.cloudinary.com/dpapjdvi5/image/upload/v1597857631/ekbjmkkyyq0lkgityu9f.jpg\",\n//       \"linkedinurl\": \"https://www.linkedin.com/in/kolade-gureje/\",\n//       \"projects\": \"[{…}, {…}, {…}]\",\n//       \"state\": \"{about: \\\"           I am a self-taught react native…}\"\n//     }\n//   }"]},"metadata":{},"sourceType":"module"}